<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>random cho mỗi số</title>

<style>
body{
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg,#0f0c29,#302b63,#24243e);
    color:white;
    text-align:center;
    padding-top:60px;
    margin:0;
    body{
   
    background-repeat: repeat;
}

}

h2{
    margin-bottom:40px;
    text-shadow:0 0 10px rgba(255,255,255,0.4);
}

.grid{
    display:grid;
    grid-template-columns: repeat(10, 80px);
    justify-content:center;
    gap:20px;
    margin-bottom:20px;
}

.box{
    height:60px;
    border-radius:14px;
    backdrop-filter: blur(10px);
    background: rgba(255,255,255,0.08);
    border:1px solid rgba(255,255,255,0.2);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:25px;
    font-weight:600;
    box-shadow:0 0 15px rgba(0,255,255,0.2);
    transition:0.2s;
}

button{
    height:35px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    font-size:14px;
    background: linear-gradient(45deg,#00f5ff,#7b2ff7);
    color:white;
    box-shadow:0 0 15px rgba(123,47,247,0.5);
    transition:0.2s;
}

button:hover{
    transform:scale(1.08);
    box-shadow:0 0 25px rgba(0,255,255,0.8);
}

.running{
    box-shadow:0 0 25px #00ffff;
}
</style>
</head>

<body>

<h2>Random cho từng số 0-9</h2>

<!-- Hàng số -->
<div class="grid" id="numbers"></div>

<!-- Hàng kết quả -->
<div class="grid" id="results"></div>

<!-- Hàng nút -->
<div class="grid" id="buttons"></div>

<script>

const numberContainer = document.getElementById("numbers");
const resultContainer = document.getElementById("results");
const buttonContainer = document.getElementById("buttons");

// Tạo 10 cột thẳng hàng
for(let i=0;i<10;i++){

    // Số 0-9
    let numBox=document.createElement("div");
    numBox.className="box";
    numBox.textContent=i;
    numberContainer.appendChild(numBox);

    // Ô kết quả
    let resultBox=document.createElement("div");
    resultBox.className="box";
    resultBox.id="r"+i;
    resultContainer.appendChild(resultBox);

    // Nút
    let btn=document.createElement("button");
    btn.textContent="Random";
    btn.onclick=()=>spin(i);
    buttonContainer.appendChild(btn);
}

function random5Bit(){
    const num=Math.floor(Math.random()*32);
    return num.toString(2).padStart(5,"0");
}

function spin(index){

    let box = document.getElementById("r"+index);
    box.classList.add("running");

    let minSpeed = 20;      // tốc độ nhanh nhất (nước rút)
    let maxSpeed = 120;     // tốc độ chậm nhất
    let duration = 2500;    // tổng thời gian quay
    let start = null;

    function animate(timestamp){
        if(!start) start = timestamp;

        let progress = timestamp - start;
        let percent = progress / duration;

        if(percent > 1) percent = 1;

        // easing: tăng tốc rồi chậm dần (easeInOut)
        let easing;
        if(percent < 0.5){
            easing = 2 * percent * percent; // tăng tốc
        }else{
            easing = 1 - Math.pow(-2 * percent + 2, 2) / 2; // chậm dần
        }

        let currentSpeed = maxSpeed - (maxSpeed - minSpeed) * easing;

        box.textContent = random5Bit();

        if(progress < duration){
            setTimeout(()=>requestAnimationFrame(animate), currentSpeed);
        }else{
            box.classList.remove("running");
        }
    }

    requestAnimationFrame(animate);
}
</script>

</body>
</html>



